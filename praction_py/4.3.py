
'''
cube = [
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']]
]

cube[0][0][0]='#\033[90m'
cube[0][0][1]='#\033[90m'
cube[0][0][2]='#\033[90m'
cube[0][1][0]='#\033[90m'
cube[0][1][1]='#\033[90m'
cube[0][1][2]='#\033[90m'
cube[0][2][0]='#\033[90m'
cube[0][2][1]='#\033[90m'
cube[0][2][2]='#\033[90m'

cube[1][0][0]='#\033[32m'
cube[1][0][1]='#\033[32m'
cube[1][0][2]='#\033[32m'
cube[1][1][0]='#\033[32m'
cube[1][1][1]='#\033[32m'
cube[1][1][2]='#\033[32m'
cube[1][2][0]='#\033[32m'
cube[1][2][1]='#\033[32m'
cube[1][2][2]='#\033[32m'

cube[2][0][0]='#\033[31m'
cube[2][0][1]='#\033[31m'
cube[2][0][2]='#\033[31m'
cube[2][1][0]='#\033[31m'
cube[2][1][1]='#\033[31m'
cube[2][1][2]='#\033[31m'
cube[2][2][0]='#\033[31m'
cube[2][2][1]='#\033[31m'
cube[2][2][2]='#\033[31m'

cube[3][0][0]='#\033[34m'
cube[3][0][1]='#\033[34m'
cube[3][0][2]='#\033[34m'
cube[3][1][0]='#\033[34m'
cube[3][1][1]='#\033[34m'
cube[3][1][2]='#\033[34m'
cube[3][2][0]='#\033[34m'
cube[3][2][1]='#\033[34m'
cube[3][2][2]='#\033[34m'

cube[4][0][0]='#\033[46m'
cube[4][0][1]='#\033[46m'
cube[4][0][2]='#\033[46m'
cube[4][1][0]='#\033[46m'
cube[4][1][1]='#\033[46m'
cube[4][1][2]='#\033[46m'
cube[4][2][0]='#\033[46m'
cube[4][2][1]='#\033[46m'
cube[4][2][2]='#\033[46m'

cube[5][0][0]='#\033[33m'#æ©˜
cube[5][0][1]='#\033[33m'
cube[5][0][2]='#\033[33m'
cube[5][1][0]='#\033[33m'
cube[5][1][1]='#\033[33m'
cube[5][1][2]='#\033[33m'
cube[5][2][0]='#\033[33m'
cube[5][2][1]='#\033[33m'
cube[5][2][2]='#\033[33m'

            
            
while True:
    print(cube[2][0][0],cube[2][0][1],cube[2][0][2])
    print(cube[2][1][0],cube[2][1][1],cube[2][1][2])
    print(cube[2][2][0],cube[2][2][1],cube[2][2][2])
       
    command = int(input())
    if command == '0':
        break
    elif command == '1':
        cube[2][0][0]=cube[1][0][0]
        cube[2][0][1]=cube[1][0][1]
        cube[2][0][2]=cube[1][0][2]       

        cube[1][0][0]=cube[4][0][0]
        cube[1][0][1]=cube[4][0][1]
        cube[1][0][2]=cube[4][0][2]   

        cube[4][0][0]=cube[3][0][0]
        cube[4][0][1]=cube[3][0][1]
        cube[4][0][2]=cube[3][0][2] 

        cube[3][0][0]=cube[2][0][0]
        cube[3][0][1]=cube[2][0][1]
        cube[3][0][2]=cube[2][0][2]             

    elif command == '2':
        cube[2][1][0]=cube[1][1][0]
        cube[2][1][1]=cube[1][1][1]
        cube[2][1][2]=cube[1][1][2]       

        cube[1][1][0]=cube[4][1][0]
        cube[1][1][1]=cube[4][1][1]
        cube[1][1][2]=cube[4][1][2]   

        cube[4][1][0]=cube[3][1][0]
        cube[4][1][1]=cube[3][1][1]
        cube[4][1][2]=cube[3][1][2] 

        cube[3][1][0]=cube[2][1][0]
        cube[3][1][1]=cube[2][1][1]
        cube[3][1][2]=cube[2][1][2]   
    elif command == '3':
        cube[2][2][0]=cube[1][2][0]
        cube[2][2][1]=cube[1][2][1]
        cube[2][2][2]=cube[1][2][2]       

        cube[1][2][0]=cube[4][2][0]
        cube[1][2][1]=cube[4][2][1]
        cube[1][2][2]=cube[4][2][2]   

        cube[4][2][0]=cube[3][2][0]
        cube[4][2][1]=cube[3][2][1]
        cube[4][2][2]=cube[3][2][2] 

        cube[3][2][0]=cube[2][2][0]
        cube[3][2][1]=cube[2][2][1]
        cube[3][2][2]=cube[2][2][2]




    elif command == '4':
        cube[2][0][0]=cube[0][0][0]
        cube[2][1][0]=cube[0][1][0]
        cube[2][2][0]=cube[0][2][0]       

        cube[0][0][0]=cube[4][0][0]
        cube[0][1][0]=cube[4][1][0]
        cube[0][2][0]=cube[4][2][0]   

        cube[4][0][0]=cube[3][0][0]
        cube[4][1][0]=cube[3][1][0]
        cube[4][2][0]=cube[3][2][0] 

        cube[3][0][0]=cube[2][0][0]
        cube[3][1][0]=cube[2][1][0]
        cube[3][2][0]=cube[2][2][0]             

    elif command == '5':
        cube[2][0][1]=cube[0][0][1]
        cube[2][1][1]=cube[0][1][1]
        cube[2][2][1]=cube[0][2][1]       

        cube[0][0][1]=cube[4][0][1]
        cube[0][1][1]=cube[4][1][1]
        cube[0][2][1]=cube[4][2][1]   

        cube[4][0][1]=cube[3][0][1]
        cube[4][1][1]=cube[3][1][1]
        cube[4][2][1]=cube[3][2][1] 

        cube[3][0][1]=cube[2][0][1]
        cube[3][1][1]=cube[2][1][1]
        cube[3][2][1]=cube[2][2][1]      
    elif command == '6':
        cube[2][0][2]=cube[0][0][2]
        cube[2][1][2]=cube[0][1][2]
        cube[2][2][2]=cube[0][2][2]       

        cube[0][0][2]=cube[4][0][2]
        cube[0][1][2]=cube[4][1][2]
        cube[0][2][2]=cube[4][2][2]   

        cube[4][0][2]=cube[3][0][2]
        cube[4][1][2]=cube[3][1][2]
        cube[4][2][2]=cube[3][2][2] 

        cube[3][0][2]=cube[2][0][2]
        cube[3][1][2]=cube[2][1][2]
        cube[3][2][2]=cube[2][2][2]
'''



cube = [
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']],
    [['#', '#', '#'], 
    ['#', '#', '#'], 
    ['#', '#', '#']]
]

for j in range(3):
    for k in range(3):
        cube[0][j][k] = "\033[90m" + '0'+ "\033[0m"

for j in range(3):
    for k in range(3):
        cube[1][j][k] = "\033[32m" + '0' + "\033[0m"

for j in range(3):
    for k in range(3):
        cube[2][j][k] = "\033[31m" + '0' + "\033[0m"

for j in range(3):
    for k in range(3):
        cube[3][j][k] = "\033[34m" + '0' + "\033[0m"

for j in range(3):
    for k in range(3):
        cube[4][j][k] ="\033[46m" + '0' + "\033[0m"

for j in range(3):
    for k in range(3):
        cube[5][j][k] ="\033[33m" + '0' + "\033[0m"

            
while True:
    print(cube[2][0][0],cube[2][0][1],cube[2][0][2])
    print(cube[2][1][0],cube[2][1][1],cube[2][1][2])
    print(cube[2][2][0],cube[2][2][1],cube[2][2][2])
     
    command = int(input())
    if command == 0:
        break
    elif command == 1:
        cube[2][0][0]=cube[1][0][0]
        cube[2][0][1]=cube[1][0][1]
        cube[2][0][2]=cube[1][0][2]       

        cube[1][0][0]=cube[4][0][0]
        cube[1][0][1]=cube[4][0][1]
        cube[1][0][2]=cube[4][0][2]   

        cube[4][0][0]=cube[3][0][0]
        cube[4][0][1]=cube[3][0][1]
        cube[4][0][2]=cube[3][0][2] 

        cube[3][0][0]=cube[2][0][0]
        cube[3][0][1]=cube[2][0][1]
        cube[3][0][2]=cube[2][0][2]             

    elif command == 2:
        cube[2][1][0]=cube[1][1][0]
        cube[2][1][1]=cube[1][1][1]
        cube[2][1][2]=cube[1][1][2]       

        cube[1][1][0]=cube[4][1][0]
        cube[1][1][1]=cube[4][1][1]
        cube[1][1][2]=cube[4][1][2]   

        cube[4][1][0]=cube[3][1][0]
        cube[4][1][1]=cube[3][1][1]
        cube[4][1][2]=cube[3][1][2] 

        cube[3][1][0]=cube[2][1][0]
        cube[3][1][1]=cube[2][1][1]
        cube[3][1][2]=cube[2][1][2]   
    elif command == 3:
        cube[2][2][0]=cube[1][2][0]
        cube[2][2][1]=cube[1][2][1]
        cube[2][2][2]=cube[1][2][2]       

        cube[1][2][0]=cube[4][2][0]
        cube[1][2][1]=cube[4][2][1]
        cube[1][2][2]=cube[4][2][2]   

        cube[4][2][0]=cube[3][2][0]
        cube[4][2][1]=cube[3][2][1]
        cube[4][2][2]=cube[3][2][2] 

        cube[3][2][0]=cube[2][2][0]
        cube[3][2][1]=cube[2][2][1]
        cube[3][2][2]=cube[2][2][2]




    elif command == 4:
        cube[2][0][0]=cube[0][0][0]
        cube[2][1][0]=cube[0][1][0]
        cube[2][2][0]=cube[0][2][0]       

        cube[0][0][0]=cube[4][0][0]
        cube[0][1][0]=cube[4][1][0]
        cube[0][2][0]=cube[4][2][0]   

        cube[4][0][0]=cube[3][0][0]
        cube[4][1][0]=cube[3][1][0]
        cube[4][2][0]=cube[3][2][0] 

        cube[3][0][0]=cube[2][0][0]
        cube[3][1][0]=cube[2][1][0]
        cube[3][2][0]=cube[2][2][0]             

    elif command == 5:
        cube[2][0][1]=cube[0][0][1]
        cube[2][1][1]=cube[0][1][1]
        cube[2][2][1]=cube[0][2][1]       

        cube[0][0][1]=cube[4][0][1]
        cube[0][1][1]=cube[4][1][1]
        cube[0][2][1]=cube[4][2][1]   

        cube[4][0][1]=cube[3][0][1]
        cube[4][1][1]=cube[3][1][1]
        cube[4][2][1]=cube[3][2][1] 

        cube[3][0][1]=cube[2][0][1]
        cube[3][1][1]=cube[2][1][1]
        cube[3][2][1]=cube[2][2][1]      
    elif command == 6:
        cube[2][0][2]=cube[0][0][2]
        cube[2][1][2]=cube[0][1][2]
        cube[2][2][2]=cube[0][2][2]       

        cube[0][0][2]=cube[4][0][2]
        cube[0][1][2]=cube[4][1][2]
        cube[0][2][2]=cube[4][2][2]   

        cube[4][0][2]=cube[3][0][2]
        cube[4][1][2]=cube[3][1][2]
        cube[4][2][2]=cube[3][2][2] 

        cube[3][0][2]=cube[2][0][2]
        cube[3][1][2]=cube[2][1][2]
        cube[3][2][2]=cube[2][2][2]
    
                